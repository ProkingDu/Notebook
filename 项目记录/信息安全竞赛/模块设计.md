
## 流量监测模块

### 综述


流量监测模块所需要执行的任务是实时监测主机流量数据，以秒为周期将当前时间节点的流量数据通过Websocket发送给服务端（单位MB/S），并且依据实时的流量数据和历史流量数据来预测是否存在异常流量，即当前的出入方向流量是否与历史流量有较大的偏离。


在流量监测模块中，客户端、服务端、web网页端各司其职，通过websocket实现通信。

在客户端中封装一个抓包类，通过实时分析底层数据包来统计流量以及日志、文件等。流量监测模块中客户端需要做的是：
1. 统计实时流量带宽
2. 将流量带宽波动发送到服务端
3. 统计实时丢包率
4. 将丢包率发送到服务端

细致的方面，客户端需要统计每秒中的总流量数据，包括出入方向的数据，同时根据协议划分不同的流量带宽，按协议发送到服务端，服务端记录。

服务端需要开启一个websocket服务，用于和客户端以及web端进行通信。
在服务端接收到流量数据之后，首先储存到数据库，然后广播到客户端。
在服务端通过torch训练isolution forest模型，通过数据库中储存的历史流量数据，产生模型，通过模型预测实时流量是否较大偏离历史流量范围来判断是否存在流量攻击的风险，如果存在，则向主机对应的客户发送报警信息，并且记录到主机的告警日志。

在web端，接受到服务端广播的消息之后，将实时带宽在网页中绘制图表，包括总的流量趋势、按IP划分的流量趋势、按协议划分的流量趋势。

同时在仪表盘中展示实时丢包率。

### 技术实现
